<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Register - Blood Donation</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="main.js"></script>
<style>
body { font-family: 'Poppins', sans-serif; background-color: #121212; color: #eee; }
input, button { transition: all 0.3s; }
</style>
</head>
<body class="flex justify-center items-center min-h-screen">

<div class="bg-gray-900 p-8 rounded shadow-md w-full max-w-md">
  <h2 class="text-2xl font-bold mb-6 text-center text-red-500">Register as Donor</h2>

  <form id="registerForm" class="space-y-4">
    <input type="text" name="name" placeholder="Full Name" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded focus:outline-red-500">
    <input type="email" name="email" placeholder="Email" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded focus:outline-red-500">
    <input type="password" name="password" placeholder="Password" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded focus:outline-red-500">
    <input type="text" name="bloodGroup" placeholder="Blood Group (e.g., A+)" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded focus:outline-red-500">
    <input type="text" name="phone" placeholder="Phone Number" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded focus:outline-red-500">
    <input type="text" name="city" placeholder="City" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded focus:outline-red-500">
    <button type="submit" class="w-full bg-red-500 text-white py-3 rounded hover:bg-red-600 transition">Register</button>
  </form>

  <p class="text-center mt-4 text-gray-400">Already registered? <a href="login.html" class="text-red-500 hover:underline">Login here</a></p>
</div>

<script>
const form = document.getElementById('registerForm');
form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(form).entries());
  const res = await postData('register', data);
  if(res && res._id){
    alert('Registration successful!');
    window.location.href = 'login.html';
  } else {
    alert(res.message || 'Registration failed');
  }
});
</script>

</body>
</html>
